<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      
    <link rel="stylesheet" href="styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Checker</title>
    <style>
    </style>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

        <div id="viewCustomHeader" class="viewCustomHeader"><div class="sidebar-header">Ai Checker</div></div>
        <div>&nbsp;</div>
        <form class="was-validated">
            <div class="mb-3">
                <select class="form-select" required aria-label="select example">
                    <!-- Sarcasim and Irony, Neutrality, Positive/Negative Sentement, Aspect Based, -->
                    <option value="Please analyze the following text to determine if it is a valid email. A valid email is defined as a 
                    collection of words that form a somewhat logical message. If the text does not qualify as an email, respond with: 
                    'Sorry, but I do not recognize this as a valid email.' If the text is valid, review it for tone, intent, and 
                    politeness. Identify any potential points of confusion or misunderstanding, highlight sections that could be 
                    interpreted differently, and suggest improvements for clarity and effectiveness. Do not repeat the Email that 
                    i provide just show the review that i asks for. Also Do not add anything to the origenal message. Email:
                    ">Sending Email Check</option>
                    
                    <option value="Analyze the email I received for tone, intent, and clarity. Identify the sender's key messages and 
                    evaluate whether they are clear, polite, and aligned with their purpose. Highlight any phrases or sections that may 
                    be confusing, misinterpreted, or convey an unintended tone.">Recieved Email Check</option>
                </select>
                <div class="invalid-feedback">Example invalid select feedback</div>
            </div>

            <div class="mb-3">
                <textarea class="form-control is-invalid" id="validationTextarea" oninput="checkCharLimit()" placeholder="Required text here" maxlength="1500" minlength="75" required style="height: 150px;"></textarea>
            </div>
        </form>

        <button type="button" id="submit_button_finn" class="btn btn-primary">Submit</button>
        <span id="errorMsg" style="color: red; display: none;">Minimum 75 characters required.</span>

        <div>&nbsp;</div>

    <textarea class="form-control" type="text" style="display: none; width: 100%; resize: none; overflow: hidden;" aria-label="readonly input example" readonly id="dynamicInput" markdown=1> </textarea>
        <div class="spinner-border" role="status" style="display: none;">
            <span class="visually-hidden">Loading...</span>
        </div>
        
        <div id="response" markdown=1></div>


    <!-- Bootstrap JS and Popper (for dropdowns, tooltips, etc.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="hugging_face.js"></script>
    <script>
        // Function to adjust the width of the input based on its value
        const dynamicInput = document.getElementById('dynamicInput');

        function adjustInputWidth() {
            dynamicInput.style.height = (dynamicInput.value.length + 1) + 'ch';  // 'ch' unit is based on the character width
        }

        // Adjust the width when the page loads
        adjustInputWidth();

        // Optionally, adjust the width when the value of the input changes
        dynamicInput.addEventListener('input', adjustInputWidth);


    function checkCharLimit() {
    const textarea = document.getElementById("validationTextarea");
    const button = document.getElementById("submit_button_finn");
    const span = document.getElementById("errorMsg")
    if (textarea.value.length < 75) {
         button.disabled = true;
      errorMsg.style.display = "inline";
    } else {
      button.disabled = false;
      errorMsg.style.display = "none";
    }
  }
    </script>

    

</body>
</html>
